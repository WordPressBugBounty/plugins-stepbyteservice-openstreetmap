var sbs_wp_openstreetmap;(()=>{"use strict";var e=stepbyteservice.osmglobals;const t={block_id:{type:"string"},map_style:{type:"string"},map_style_key:{type:"string"},map_height:{type:"integer"},zoom:{type:"integer",default:parseInt(e.defaults.zoom)||null},ctrl_mouse_zoom:{type:"boolean"},latitude:{type:"number"},longitude:{type:"number"},routing:{type:"boolean"},destination_marker:{type:"integer"},router:{type:"string"},router_key:{type:"string"},show_attribution:{type:"boolean"},geocoder:{type:"string"},geocoder_key:{type:"string"},center_marker:{type:"integer"},marker_list:{type:"array"}};const n=function(e){var t=e.attributes;return React.createElement("div",{id:"sbs-openstreetmap-block-".concat(t.block_id),className:"sbs_openstreetmap_module","data-map-style":t.map_style,"data-map-style-key":t.map_style_key,"data-zoom":t.zoom,"data-ctrl-mouse-zoom":t.ctrl_mouse_zoom,"data-latitude":t.latitude,"data-longitude":t.longitude,"data-routing":t.routing,"data-destination-marker":t.destination_marker,"data-router":t.router,"data-router-key":t.router_key,"data-show-attribution":t.show_attribution,"data-geocoder":t.geocoder,"data-geocoder-key":t.geocoder_key,"data-center-marker":t.center_marker,"data-marker-list":JSON.stringify(t.marker_list)},React.createElement("div",{className:"sbs_openstreetmap_container",style:{paddingBottom:"".concat(t.map_height,"%")}}))},o=JSON.parse('[{"sbs-map-icon sbs-map-360":"360"},{"sbs-map-icon sbs-map-ac-unit":"AC Unit"},{"sbs-map-icon sbs-map-airport-shuttle":"Airport Shuttle"},{"sbs-map-icon sbs-map-all-inclusive":"All Inclusive"},{"sbs-map-icon sbs-map-apartment":"Apartment"},{"sbs-map-icon sbs-map-atm":"ATM"},{"sbs-map-icon sbs-map-bathtub":"Bathtub"},{"sbs-map-icon sbs-map-beach-access":"Beach Access"},{"sbs-map-icon sbs-map-beenhere":"Beenhere"},{"sbs-map-icon sbs-map-business-center":"Business Center"},{"sbs-map-icon sbs-map-cake":"Cake"},{"sbs-map-icon sbs-map-casino":"Casino"},{"sbs-map-icon sbs-map-category":"Category"},{"sbs-map-icon sbs-map-child-care":"Child Care"},{"sbs-map-icon sbs-map-child-friendly":"Child Friendly"},{"sbs-map-icon sbs-map-compass-calibration":"Compass Calibration"},{"sbs-map-icon sbs-map-deck":"Deck"},{"sbs-map-icon sbs-map-departure-board":"Departure Board"},{"sbs-map-icon sbs-map-directions":"Directions"},{"sbs-map-icon sbs-map-directions-bike":"Directions Bike"},{"sbs-map-icon sbs-map-directions-boat":"Directions Boat"},{"sbs-map-icon sbs-map-directions-bus":"Directions Bus"},{"sbs-map-icon sbs-map-directions-car":"Directions Car"},{"sbs-map-icon sbs-map-directions-railway":"Directions Railway"},{"sbs-map-icon sbs-map-directions-run":"Directions Run"},{"sbs-map-icon sbs-map-directions-subway":"Directions Subway"},{"sbs-map-icon sbs-map-directions-transit":"Directions Transit"},{"sbs-map-icon sbs-map-directions-walk":"Directions Walk"},{"sbs-map-icon sbs-map-edit-attributes":"Edit Attributes"},{"sbs-map-icon sbs-map-emoji-emotions":"Emoji Emotions"},{"sbs-map-icon sbs-map-emoji-events":"Emoji Events"},{"sbs-map-icon sbs-map-emoji-flags":"Emoji Flags"},{"sbs-map-icon sbs-map-emoji-food-beverage":"Emoji Food Beverage"},{"sbs-map-icon sbs-map-emoji-nature":"Emoji Nature"},{"sbs-map-icon sbs-map-emoji-objects":"Emoji Objects"},{"sbs-map-icon sbs-map-emoji-people":"Emoji People"},{"sbs-map-icon sbs-map-emoji-symbols":"Emoji Symbols"},{"sbs-map-icon sbs-map-emoji-transportation":"Emoji Transportation"},{"sbs-map-icon sbs-map-ev-station":"EV Station"},{"sbs-map-icon sbs-map-fastfood":"Fastfood"},{"sbs-map-icon sbs-map-fireplace":"Fireplace"},{"sbs-map-icon sbs-map-fitness-center":"Fitness Center"},{"sbs-map-icon sbs-map-flight":"Flight"},{"sbs-map-icon sbs-map-free-breakfast":"Free Breakfast"},{"sbs-map-icon sbs-map-golf-course":"Golf Course"},{"sbs-map-icon sbs-map-group":"Group"},{"sbs-map-icon sbs-map-group-add":"Group Add"},{"sbs-map-icon sbs-map-hot-tub":"Hot Tub"},{"sbs-map-icon sbs-map-hotel":"Hotel"},{"sbs-map-icon sbs-map-house":"House"},{"sbs-map-icon sbs-map-king-bed":"King Bed"},{"sbs-map-icon sbs-map-kitchen":"Kitchen"},{"sbs-map-icon sbs-map-layers":"Layers"},{"sbs-map-icon sbs-map-layers-clear":"Layers Clear"},{"sbs-map-icon sbs-map-local-activity":"Local Activity"},{"sbs-map-icon sbs-map-local-airport":"Local Airport"},{"sbs-map-icon sbs-map-local-atm":"Local ATM"},{"sbs-map-icon sbs-map-local-bar":"Local Bar"},{"sbs-map-icon sbs-map-local-cafe":"Local Cafe"},{"sbs-map-icon sbs-map-local-car-wash":"Local Car Wash"},{"sbs-map-icon sbs-map-local-convenience-store":"Local Convenience Store"},{"sbs-map-icon sbs-map-local-dining":"Local Dining"},{"sbs-map-icon sbs-map-local-drink":"Local Drink"},{"sbs-map-icon sbs-map-local-florist":"Local Florist"},{"sbs-map-icon sbs-map-local-gas-station":"Local Gas Station"},{"sbs-map-icon sbs-map-local-grocery-store":"Local Grocery Store"},{"sbs-map-icon sbs-map-local-hospital":"Local Hospital"},{"sbs-map-icon sbs-map-local-hotel":"Local Hotel"},{"sbs-map-icon sbs-map-local-laundry-service":"Local Laundry Service"},{"sbs-map-icon sbs-map-local-library":"Local Library"},{"sbs-map-icon sbs-map-local-mall":"Local Mall"},{"sbs-map-icon sbs-map-local-movies":"Local Movies"},{"sbs-map-icon sbs-map-local-offer":"Local Offer"},{"sbs-map-icon sbs-map-local-parking":"Local Parking"},{"sbs-map-icon sbs-map-local-pharmacy":"Local Pharmacy"},{"sbs-map-icon sbs-map-local-phone":"Local Phone"},{"sbs-map-icon sbs-map-local-pizza":"Local Pizza"},{"sbs-map-icon sbs-map-local-play":"Local Play"},{"sbs-map-icon sbs-map-local-post-office":"Local Post Office"},{"sbs-map-icon sbs-map-local-printshop":"Local Printshop"},{"sbs-map-icon sbs-map-local-see":"Local See"},{"sbs-map-icon sbs-map-local-shipping":"Local Shipping"},{"sbs-map-icon sbs-map-local-taxi":"Local Taxi"},{"sbs-map-icon sbs-map-location-city":"Location City"},{"sbs-map-icon sbs-map-map":"Map"},{"sbs-map-icon sbs-map-meeting-room":"Meeting Room"},{"sbs-map-icon sbs-map-menu-book":"Menu Book"},{"sbs-map-icon sbs-map-money":"Money"},{"sbs-map-icon sbs-map-mood":"Mood"},{"sbs-map-icon sbs-map-mood-bad":"Mood Bad"},{"sbs-map-icon sbs-map-museum":"Museum"},{"sbs-map-icon sbs-map-my-location":"My Location"},{"sbs-map-icon sbs-map-navigation":"Navigation"},{"sbs-map-icon sbs-map-near-me":"Near Me"},{"sbs-map-icon sbs-map-nights-stay":"Nights Stay"},{"sbs-map-icon sbs-map-no-meeting-room":"No Meeting Room"},{"sbs-map-icon sbs-map-notifications":"Notifications"},{"sbs-map-icon sbs-map-notifications-active":"Notifications Active"},{"sbs-map-icon sbs-map-notifications-none":"Notifications None"},{"sbs-map-icon sbs-map-notifications-off":"Notifications Off"},{"sbs-map-icon sbs-map-notifications-paused":"Notifications Paused"},{"sbs-map-icon sbs-map-outdoor-grill":"Outdoor Grill"},{"sbs-map-icon sbs-map-pages":"Pages"},{"sbs-map-icon sbs-map-party-mode":"Party Mode"},{"sbs-map-icon sbs-map-people":"People"},{"sbs-map-icon sbs-map-people-alt":"People Alt"},{"sbs-map-icon sbs-map-people-outline":"People Outline"},{"sbs-map-icon sbs-map-person":"Person"},{"sbs-map-icon sbs-map-person-add":"Person Add"},{"sbs-map-icon sbs-map-person-outline":"Person Outline"},{"sbs-map-icon sbs-map-person-pin":"Person Pin"},{"sbs-map-icon sbs-map-plus-one":"Plus One"},{"sbs-map-icon sbs-map-poll":"Poll"},{"sbs-map-icon sbs-map-pool":"Pool"},{"sbs-map-icon sbs-map-public":"Public"},{"sbs-map-icon sbs-map-rate-review":"Rate Review"},{"sbs-map-icon sbs-map-restaurant":"Restaurant"},{"sbs-map-icon sbs-map-restaurant-menu":"Restaurant Menu"},{"sbs-map-icon sbs-map-room-service":"Room Service"},{"sbs-map-icon sbs-map-rv-hookup":"RV Hookup"},{"sbs-map-icon sbs-map-satellite":"Satellite"},{"sbs-map-icon sbs-map-school":"School"},{"sbs-map-icon sbs-map-sentiment-dissatisfied":"Sentiment Dissatisfied"},{"sbs-map-icon sbs-map-sentiment-satisfied":"Sentiment Satisfied"},{"sbs-map-icon sbs-map-sentiment-very-dissatisfied":"Sentiment Very Dissatisfied"},{"sbs-map-icon sbs-map-sentiment-very-satisfied":"Sentiment Very Satisfied"},{"sbs-map-icon sbs-map-share":"Share"},{"sbs-map-icon sbs-map-single-bed":"Single Bed"},{"sbs-map-icon sbs-map-smoke-free":"Smoke Free"},{"sbs-map-icon sbs-map-smoking-rooms":"Smoking Rooms"},{"sbs-map-icon sbs-map-spa":"Spa"},{"sbs-map-icon sbs-map-sports":"Sports"},{"sbs-map-icon sbs-map-sports-baseball":"Sports Baseball"},{"sbs-map-icon sbs-map-sports-basketball":"Sports Basketball"},{"sbs-map-icon sbs-map-sports-cricket":"Sports Cricket"},{"sbs-map-icon sbs-map-sports-esports":"Sports Esports"},{"sbs-map-icon sbs-map-sports-football":"Sports Football"},{"sbs-map-icon sbs-map-sports-golf":"Sports Golf"},{"sbs-map-icon sbs-map-sports-handball":"Sports Handball"},{"sbs-map-icon sbs-map-sports-hockey":"Sports Hockey"},{"sbs-map-icon sbs-map-sports-kabaddi":"Sports Kabaddi"},{"sbs-map-icon sbs-map-sports-mma":"Sports MMA"},{"sbs-map-icon sbs-map-sports-motorsports":"Sports Motorsports"},{"sbs-map-icon sbs-map-sports-rugby":"Sports Rugby"},{"sbs-map-icon sbs-map-sports-soccer":"Sports Soccer"},{"sbs-map-icon sbs-map-sports-tennis":"Sports Tennis"},{"sbs-map-icon sbs-map-sports-volleyball":"Sports Volleyball"},{"sbs-map-icon sbs-map-store-mall-directory":"Store Mall Directory"},{"sbs-map-icon sbs-map-storefront":"Storefront"},{"sbs-map-icon sbs-map-streetview":"Streetview"},{"sbs-map-icon sbs-map-subway":"Subway"},{"sbs-map-icon sbs-map-terrain":"Terrain"},{"sbs-map-icon sbs-map-thumb-down-alt":"Thumb Down Alt"},{"sbs-map-icon sbs-map-thumb-up-alt":"Thumb Up Alt"},{"sbs-map-icon sbs-map-traffic":"Traffic"},{"sbs-map-icon sbs-map-train":"Train"},{"sbs-map-icon sbs-map-tram":"Tram"},{"sbs-map-icon sbs-map-transfer-within-a-station":"Transfer Within A Station"},{"sbs-map-icon sbs-map-transit-enterexit":"Transit Enterexit"},{"sbs-map-icon sbs-map-trip-origin":"Trip Origin"},{"sbs-map-icon sbs-map-whatshot":"What\'s Hot"},{"sbs-map-icon sbs-map-zoom-out-map":"Zoom Out Map"}]');function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,s,i=[],c=!0,p=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(i.push(o.value),i.length!==t);c=!0);}catch(e){p=!0,r=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(p)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var s=wp.element,i=s.useEffect,c=s.useState,p=wp.components,l=(p.Button,p.Icon),m=p.Popover,b=p.TextControl,u=p.Tooltip,d=wp.i18n.__;const y=function(e){var t=e.value,n=e.onChange,a=r(c(t),2),s=a[0],p=a[1],y=r(c(!1),2),f=y[0],g=y[1],v=r(c(),2),_=v[0],k=v[1],h=r(c(0),2),w=h[0],x=h[1],E=r(c(0),2),R=E[0],S=E[1],O=r(c(R+1),2),j=O[0],N=O[1],C=r(c(""),2),P=C[0],M=C[1],B=o.filter((function(e){return Object.values(e)[0].toLowerCase().includes(P.toLowerCase())})),L=B.slice(20*R,20*(R+1)),T=Math.ceil(B.length/20),A=function(){var e;x(null!==(e=null==_?void 0:_.offsetWidth)&&void 0!==e?e:0)};i((function(){var e;return x(null!==(e=null==_?void 0:_.offsetWidth)&&void 0!==e?e:0),window.addEventListener("resize",A),function(){window.removeEventListener("resize",A)}}),[_]);var H=function(e){p(e),n(e)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"components-base-control icon-picker-control"},React.createElement("div",{className:"components-base-control__field"},React.createElement("div",{className:"components-text-control__input",ref:k,onClick:function(){g((function(e){return!e})),A()}},React.createElement("div",{className:"icon-picker-selection"},s?React.createElement("div",{className:"icon-picker-icon"},React.createElement("div",{className:"icon-box"},React.createElement("i",{className:s})),React.createElement("div",{className:"icon-remove",tabIndex:"0",role:"button",onClick:function(e){e.stopPropagation(),H("")}},"×")):React.createElement("div",{className:"icon-placeholder"},d("Select Icon","stepbyteservice-openstreetmap"))),React.createElement("div",{className:"icon-picker-toggle"},React.createElement(l,{className:"".concat(f?"is-open":""),icon:"arrow-down-alt2"}))))),f&&React.createElement(m,{anchor:_,className:"icon-picker-popover",variant:"toolbar",style:{width:"".concat(w,"px")}},React.createElement("div",{className:"icon-search"},React.createElement(b,{placeholder:d("Search Icons","stepbyteservice-openstreetmap"),value:P,onChange:function(e){return M(e)},__nextHasNoMarginBottom:!0})),T>0?React.createElement(React.Fragment,null,React.createElement("div",{className:"icon-pager"},React.createElement("div",{className:"icon-pager-page"},React.createElement("input",{type:"number",value:j,onChange:function(e){var t=e.target.value;if(""===t)return S(0),void N("");var n=Math.max(1,Math.min(T,Number(t)))-1;S(n),N(n+1)},style:{width:"40px",textAlign:"center"}}),React.createElement("span",null," / ",T)),React.createElement("div",{className:"icon-pager-controls"},React.createElement("button",{onClick:function(){S((function(e){var t=(e-1+T)%T;return N(t+1),t}))},disabled:0===R},React.createElement(l,{icon:"arrow-left-alt2"})),React.createElement("button",{onClick:function(){S((function(e){var t=(e+1)%T;return N(t+1),t}))},disabled:R===T-1,style:{marginLeft:"auto"}},React.createElement(l,{icon:"arrow-right-alt2"})))),React.createElement("div",{className:"icon-grid"},L.map((function(e,t){var n=Object.keys(e)[0],o=Object.values(e)[0];return React.createElement("div",{key:t,className:"icon-item",onClick:function(){return H(n)}},React.createElement(u,{text:o},React.createElement("div",{className:"icon-box"},React.createElement("i",{className:n}))))})))):React.createElement("div",{className:"no-icons-message"},d("No Icons Found","stepbyteservice-openstreetmap"))),React.createElement("style",null,"\n                    .icon-picker-control .components-text-control__input {\n                        display: flex;\n                        flex-flow: row nowrap;\n                        min-height: 50px;\n                        cursor: pointer;\n                        user-select: none;\n                        padding: 0;\n                    }\n                    .icon-picker-control .icon-picker-selection {\n                        display: flex;\n                        flex-flow: row nowrap;\n                        align-items: center;\n                        justify-content: center;\n                        flex: 0 0 86px;\n                        padding: 2px;\n                    }\n                    .icon-picker-control .icon-picker-selection .icon-picker-icon {\n                        display: flex;\n                        flex-flow: row nowrap;\n                        justify-content: space-between;\n                        align-items: center;\n                        width: 48px;\n                        height: 28px;\n                        margin: 2px;\n                        border-radius: 2px;\n                        color: #424242;\n                        border: 1px solid #eee;\n                    }\n                    .icon-picker-control .icon-picker-selection .icon-picker-icon .icon-box {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        width: 28px;\n                        height: 28px;\n                        font-size: 18px;\n                    }\n                    .icon-picker-control .icon-picker-selection .icon-picker-icon .icon-remove {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        width: 18px;\n                        height: 28px;\n                        background-color: #eee;\n                        transition: background-color .25s;\n                        cursor: pointer;\n                    }\n                    .icon-picker-control .icon-placeholder {\n                        padding: 6px 8px;\n                        color: #1e1e1e9e;\n                        font-size: 14px;\n                        line-height: 16px;\n                    }\n                    .icon-picker-control .icon-picker-toggle {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        width: 48px;\n                        border: none 0 transparent;\n                        border-left: 1px solid #e0e0e0;\n                        background-color: #f5f5f5;\n                        color: #424242;\n                        margin-left: auto;\n                    }\n                    .icon-picker-control .icon-picker-toggle .dashicon {\n                        transition: transform 0.25s ease;\n                    }\n                    .icon-picker-control .icon-picker-toggle .dashicon.is-open {\n                        transform: rotate(180deg);\n                    }\n                    .icon-picker-popover .components-popover__content {\n                        width: 100%;\n                        padding: 6px 8px;\n                    }\n                    .icon-picker-popover .components-popover__content * {\n                        margin: 0;\n                        padding: 0;\n                        box-sizing: border-box;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-grid {\n                        display: flex;\n                        flex-flow: row wrap;\n                        align-items: center;\n                        justify-content: flex-start;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-item {\n                        width: 20%;\n                        height: 40px;\n                        padding: 1px;\n                        cursor: pointer;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-item .icon-box {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        width: 100%;\n                        height: 100%;\n                        background-color: #f5f5f5;\n                        border: 1px solid #f5f5f5;\n                        color: #424242;\n                        transition: background-color .25s, border .25s;\n                        outline: 0 none;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-item .icon-box:hover {\n                        background-color: #bdbdbd;\n                        border: 1px solid #bdbdbd;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-item .icon-box:hover > * {\n                        transform: scale(1.4);\n                        transition: transform .25s;\n                        transform-origin: center;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-search {\n                        width: 100%;\n                        margin: 0 0 8px;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-search input {\n                        width: 100%;\n                        display: block;\n                        height: 32px;\n                        line-height: 32px;\n                        font-size: 14px;\n                        padding: 0 8px;\n                        color: #424242;\n                        border: 0 none;\n                        border-bottom: 1px solid #bdbdbd;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager {\n                        display: flex;\n                        flex-flow: row nowrap;\n                        align-items: center;\n                        height: 24px;\n                        line-height: 24px;\n                        margin-bottom: 8px;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-page {\n                        width: 100%;\n                        margin-right: auto;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-page input {\n                        color: #424242;\n                        border: 0 none;\n                        border-bottom: 1px solid #bdbdbd;\n                        transition:  box-shadow .25s, border .25s;\n                        outline: none;\n                        -moz-appearance: textfield;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-page input::-webkit-outer-spin-button,\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-page input::-webkit-inner-spin-button {\n                        -webkit-appearance: none;\n                        margin: 0;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-controls {\n                        display: flex;\n                        flex-flow: row nowrap;\n                        align-items: center;\n                        justify-content: flex-end;\n                        user-select: none;\n                        width: 56px;\n                        height: 24px;\n                        margin-left: auto;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-controls button {\n                        background-color: #eee;\n                        border: 1px solid #eee;\n                        color: #424242;\n                        width: 24px;\n                        height: 24px;\n                        cursor: pointer;\n                        transition: background-color .25s, border .25s;\n                        outline: 0 none;\n                        border-radius: 2px;\n                        font-size: 18px;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-controls button:disabled {\n                        visibility: hidden;\n                    }\n                    .icon-picker-popover .components-popover__content .icon-pager .icon-pager-controls button:hover {\n                        background-color: #bdbdbd;\n                        border: 1px solid #bdbdbd;\n                    }\n\n                "))};var f=function(e){return!0===e||"true"===e};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,s,i=[],c=!0,p=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(i.push(o.value),i.length!==t);c=!0);}catch(e){p=!0,r=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(p)throw r}}return i}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=wp.element,S=R.useEffect,O=R.useRef,j=wp,N=j.blockEditor,C=j.editor,P=wp.i18n.__,M=wp.components,B=M.Button,L=M.CheckboxControl,T=M.ExternalLink,A=M.Icon,H=M.PanelBody,I=M.RangeControl,D=M.SelectControl,z=M.TextareaControl,F=M.TextControl,G=stepbyteservice.osmglobals,W=sbs_wp_openstreetmap["sbs-wp-openstreetmap"];const K=function(e){var t=O(null),o=O(!0),r=e.attributes,a=e.setAttributes,s=x(x({},G.defaults),r);s.map_style in G.deprecated_styles&&(s.map_style=G.deprecated_styles[s.map_style]),S((function(){e.setAttributes({block_id:e.clientId})}),[]),S((function(){e.attributes.block_id&&W.init(document.getElementById("sbs-openstreetmap-block-"+e.attributes.block_id))}),[e.attributes.block_id]),S((function(){!0===o.current&&e.attributes.block_id&&W.init(document.getElementById("sbs-openstreetmap-block-"+e.attributes.block_id))}),[e.attributes]);var i=function(e,t,n){var o=s.marker_list.slice();o[e][t]=n,a({marker_list:o})},c=N&&N.InspectorControls?N.InspectorControls:C.InspectorControls;return React.createElement(React.Fragment,null,React.createElement(n,{attributes:s}),React.createElement(c,{key:"controls".concat(s.block_id)},React.createElement("div",{className:"sbs-openstreetmap-inspector-panel"},React.createElement(H,{title:P("Map","stepbyteservice-openstreetmap"),initialOpen:!0},React.createElement(D,{label:P("Map Style","stepbyteservice-openstreetmap"),value:s.map_style,options:Object.entries(G.map_styles).map((function(e){var t=_(e,2),n=t[0];return{label:t[1].label,value:n}})),onChange:function(e){return a({map_style:e})},__nextHasNoMarginBottom:!0}),React.createElement(T,{className:"provider_term_link",href:G.map_styles[s.map_style].terms},"".concat(G.map_styles[s.map_style].provider," ").concat(P("Terms of Use","stepbyteservice-openstreetmap"))),("apikey"===G.map_styles[s.map_style].dependency||"accesstoken"===G.map_styles[s.map_style].dependency)&&React.createElement(F,{label:P("Map Style Key","stepbyteservice-openstreetmap"),help:P("You need an api key or access token to use the chosen map style. Please inform yourself on the website of the provider.","stepbyteservice-openstreetmap"),type:"string",value:s.map_style_key,onChange:function(e){return a({map_style_key:e})},__nextHasNoMarginBottom:!0}),"whitelist"===G.map_styles[s.map_style].dependency&&React.createElement("div",{className:"components-base-control"},P("You need to whitelist your domain to use the chosen map style. Please inform yourself on the website of the provider.","stepbyteservice-openstreetmap")),React.createElement(D,{label:P("Map Height in Relation to Width","stepbyteservice-openstreetmap"),value:s.map_height,options:[{label:"20%",value:20},{label:"30%",value:30},{label:"50%",value:50},{label:"60%",value:60},{label:"100%",value:100}],onChange:function(e){return a({map_height:parseInt(e)})},__nextHasNoMarginBottom:!0}),React.createElement(I,{label:P("Zoom Level","stepbyteservice-openstreetmap"),value:s.zoom,min:10,max:20,onChange:function(e){return a({zoom:parseInt(e)})},__nextHasNoMarginBottom:!0}),React.createElement(L,{label:P("Zoom With CTRL-Key Only","stepbyteservice-openstreetmap"),checked:f(s.ctrl_mouse_zoom),onChange:function(e){return a({ctrl_mouse_zoom:e})},__nextHasNoMarginBottom:!0}),React.createElement(F,{label:P("Latitude of the Map's Center","stepbyteservice-openstreetmap"),help:P("Only needed if marker is not the center of the map","stepbyteservice-openstreetmap"),type:"number",value:e.attributes.latitude,onChange:function(e){o.current=!1,a({latitude:e}),null!==t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){o.current=!0,a({latitude:isNaN(parseFloat(e))?void 0:parseFloat(e)})}),1e3)},__nextHasNoMarginBottom:!0}),React.createElement(F,{label:P("Longitude of the Map's Center","stepbyteservice-openstreetmap"),help:P("Only needed if marker is not the center of the map","stepbyteservice-openstreetmap"),type:"number",value:e.attributes.longitude,onChange:function(e){o.current=!1,a({longitude:e}),null!==t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){o.current=!0,a({longitude:isNaN(parseFloat(e))?void 0:parseFloat(e)})}),1e3)},__nextHasNoMarginBottom:!0}),React.createElement(L,{label:P("Activate Routing","stepbyteservice-openstreetmap"),checked:f(s.routing),onChange:function(e){return a({routing:e})},__nextHasNoMarginBottom:!0}),React.createElement(L,{label:P("Show Attribution","stepbyteservice-openstreetmap"),help:P("Attributions for content providers are shown as links on the bottom right corner of the map. If you disable the checkbox please consider the legal circumstances.","stepbyteservice-openstreetmap"),checked:f(s.show_attribution),onChange:function(e){return a({show_attribution:e})},__nextHasNoMarginBottom:!0})),f(s.routing)&&React.createElement(H,{title:P("Routing","stepbyteservice-openstreetmap"),initialOpen:!1},React.createElement(D,{label:P("Default Routing Destination","stepbyteservice-openstreetmap"),value:s.destination_marker,options:[{label:P("No Marker","stepbyteservice-openstreetmap"),value:-1}].concat(v(Object.keys(s.marker_list).map((function(e){return{label:"".concat(P("Marker","stepbyteservice-openstreetmap")," ").concat(parseInt(e)+1),value:parseInt(e)}})))),onChange:function(e){return a({destination_marker:parseInt(e)})},__nextHasNoMarginBottom:!0}),React.createElement(D,{label:P("Routing Service","stepbyteservice-openstreetmap"),value:s.router,options:Object.entries(G.routers).map((function(e){var t=_(e,2),n=t[0];return{label:t[1].label,value:n}})),onChange:function(e){return a({router:e})},__nextHasNoMarginBottom:!0}),"osrmv1"===s.router&&React.createElement("div",{className:"components-base-control css-1gbp77-StyledHelp"},P("This plugin uses OSRM`s demo server by default for demonstration purpose of the routing option. However it is not suitable for actual use as a routing service, as the server can deny access at any time or may not be available at all times. Please choose a different routing service for actual use on your website.","stepbyteservice-openstreetmap")),React.createElement(T,{className:"router_term_link",href:G.routers[s.router].terms},"".concat(G.routers[s.router].label," ").concat(P("Terms of Use","stepbyteservice-openstreetmap"))),"apikey"===G.routers[s.router].dependency&&React.createElement(F,{label:P("Routing Key","stepbyteservice-openstreetmap"),help:P("You need an api key or an access token to use the chosen routing service. Please inform yourself on the website of the service provider. If chosen provider is same as map style provider, leave field empty to use key from map style key field.","stepbyteservice-openstreetmap"),type:"string",value:s.router_key,onChange:function(e){return a({router_key:e})},__nextHasNoMarginBottom:!0})),React.createElement(H,{title:P("Geocoding","stepbyteservice-openstreetmap"),initialOpen:!1},React.createElement("div",{className:"components-base-control css-1gbp77-StyledHelp"},P("Geocoding is used for translating an address to latitude and longitude when choosing address as source for the marker position or when routing is activated.","stepbyteservice-openstreetmap")),React.createElement(D,{label:P("Geocoding Service","stepbyteservice-openstreetmap"),value:s.geocoder,options:Object.entries(G.geocoders).map((function(e){var t=_(e,2),n=t[0];return{label:t[1].label,value:n}})),onChange:function(e){return a({geocoder:e})},__nextHasNoMarginBottom:!0}),React.createElement(T,{className:"geocoder_term_link",href:G.geocoders[s.geocoder].terms},"".concat(G.geocoders[s.geocoder].label," ").concat(P("Terms of Use","stepbyteservice-openstreetmap"))),"apikey"===G.geocoders[s.geocoder].dependency&&React.createElement(F,{label:P("Geocoding Key","stepbyteservice-openstreetmap"),help:P("You need an api key or an access token to use the chosen geocoding service. Please inform yourself on the website of the service provider. If chosen provider is same as map style provider, leave field empty to use key from map style key field.","stepbyteservice-openstreetmap"),type:"string",value:s.geocoder_key,onChange:function(e){return a({geocoder_key:e})},__nextHasNoMarginBottom:!0})),React.createElement(H,{title:P("Markers","stepbyteservice-openstreetmap"),initialOpen:!1},React.createElement(D,{label:P("Center map on","stepbyteservice-openstreetmap"),value:s.center_marker,options:[{label:P("No Marker","stepbyteservice-openstreetmap"),value:-1}].concat(v(Object.keys(s.marker_list).map((function(e){return{label:"".concat(P("Marker","stepbyteservice-openstreetmap")," ").concat(parseInt(e)+1),value:parseInt(e)}})))),onChange:function(e){return a({center_marker:parseInt(e)})},__nextHasNoMarginBottom:!0}),React.createElement("div",{className:"marker_list"},s.marker_list.map((function(e,n){return React.createElement("div",{className:"marker_settings",key:"marker_".concat(s.block_id,"_").concat(n)},React.createElement("div",{className:"marker_settings_head"},React.createElement(B,{className:"marker_settings_toggle",onClick:function(e){e.currentTarget.closest(".marker_settings").classList.toggle("is-open");var t=e.currentTarget.querySelector(".marker_settings_toggle_icon");t.classList.toggle("dashicons-arrow-down-alt2"),t.classList.toggle("dashicons-arrow-up-alt2")}},React.createElement("div",null,"".concat(P("Marker","stepbyteservice-openstreetmap")," ").concat(n+1)),React.createElement(A,{className:"marker_settings_toggle_icon",icon:"arrow-down-alt2"})),React.createElement(B,{className:"marker_settings_delete",onClick:function(){return e=n,(t=s.marker_list.slice()).splice(e,1),void(t.length<1?a({marker_list:t,destination_marker:-1,center_marker:-1}):a({marker_list:t}));var e,t}},React.createElement(A,{className:"marker_settings_delete_icon",icon:"no"}))),React.createElement("div",{className:"marker_settings_body"},React.createElement(D,{label:P("Determine Position By","stepbyteservice-openstreetmap"),value:e.marker_source,options:[{label:P("Address","stepbyteservice-openstreetmap"),value:"address"},{label:P("Coordinates","stepbyteservice-openstreetmap"),value:"coordinates"}],onChange:function(e){return i(n,"marker_source",e)},__nextHasNoMarginBottom:!0}),"address"===e.marker_source&&React.createElement(F,{label:P("Address","stepbyteservice-openstreetmap"),value:e.marker_address,onChange:function(e){o.current=!1,i(n,"marker_address",e),null!==t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){o.current=!0,i(n,"marker_address",e)}),1e3)},onKeyDown:function(e){13===e.keyCode&&(null!==t.current&&(clearTimeout(t.current),t.current=null),o.current=!0,i(n,"marker_address",e.currentTarget.value))},__nextHasNoMarginBottom:!0}),"coordinates"===e.marker_source&&React.createElement(React.Fragment,null,React.createElement(F,{label:P("Latitude","stepbyteservice-openstreetmap"),type:"number",value:e.marker_latitude,onChange:function(e){o.current=!1,i(n,"marker_latitude",e),null!==t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){o.current=!0,i(n,"marker_latitude",e)}),1e3)},__nextHasNoMarginBottom:!0}),React.createElement(F,{label:P("Longitude","stepbyteservice-openstreetmap"),type:"number",value:e.marker_longitude,onChange:function(e){o.current=!1,i(n,"marker_longitude",e),null!==t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){o.current=!0,i(n,"marker_longitude",e)}),1e3)},__nextHasNoMarginBottom:!0})),React.createElement(y,{value:e.marker_icon,onChange:function(t){e.marker_icon!==t&&i(n,"marker_icon",t)}}),React.createElement(D,{label:P("Color","stepbyteservice-openstreetmap"),value:e.marker_color,options:[{label:P("Red","stepbyteservice-openstreetmap"),value:"red"},{label:P("White","stepbyteservice-openstreetmap"),value:"white"},{label:P("Blue","stepbyteservice-openstreetmap"),value:"dark_blue"},{label:P("Green","stepbyteservice-openstreetmap"),value:"green"},{label:P("Black","stepbyteservice-openstreetmap"),value:"black"},{label:P("Orange","stepbyteservice-openstreetmap"),value:"orange"},{label:P("Yellow","stepbyteservice-openstreetmap"),value:"yellow"}],onChange:function(e){return i(n,"marker_color",e)},__nextHasNoMarginBottom:!0}),React.createElement(z,{label:P("Popup Text","stepbyteservice-openstreetmap"),value:e.marker_text,onChange:function(e){o.current=!1,i(n,"marker_text",e),null!==t.current&&(clearTimeout(t.current),t.current=null),t.current=setTimeout((function(){o.current=!0,i(n,"marker_text",e)}),1e3)},__nextHasNoMarginBottom:!0})))})),s.marker_list.length<2&&React.createElement(B,{className:"marker_settings_add is-primary",onClick:function(){var e=s.marker_list.slice(),t=x({},G.defaults_marker);e.push(t),a({marker_list:e})}},React.createElement(A,{className:"marker_settings_add_icon",icon:"plus"}),P("Add Marker","stepbyteservice-openstreetmap")))))))};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=U(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=stepbyteservice.osmglobals;const $=function(e){var t=e.attributes,o=Y(Y({},J.defaults),t);return React.createElement(n,{attributes:o})};function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=q(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=stepbyteservice.osmglobals,ne=[{attributes:{block_id:{type:"string",default:te.defaults.block_id||""},map_style:{type:"string",default:"openstreetmap_de"},api_key:{type:"string",default:te.defaults.api_key||null},access_token:{type:"string",default:te.defaults.access_token||null},map_height:{type:"integer",default:parseInt(te.defaults.map_height)||null},zoom:{type:"integer",default:parseInt(te.defaults.zoom)||null},ctrl_mouse_zoom:{type:"boolean",default:!0===te.defaults.ctrl_mouse_zoom||"true"===te.defaults.ctrl_mouse_zoom||!1},latitude:{type:"number",default:te.defaults.latitude||""},longitude:{type:"number",default:te.defaults.longitude||""},show_attribution:{type:"boolean",default:!0===te.defaults.show_attribution||"true"===te.defaults.show_attribution||!1},marker_source:{type:"string",default:te.defaults_marker.marker_source||""},marker_address:{type:"string",default:te.defaults_marker.marker_address||""},marker_latitude:{type:"number",default:te.defaults_marker.marker_latitude||""},marker_longitude:{type:"number",default:te.defaults_marker.marker_longitude||""},marker_center:{type:"boolean",default:!0===te.defaults_marker.marker_center||"true"===te.defaults_marker.marker_center||!1},marker_icon:{type:"string",default:te.defaults_marker.marker_icon||""},marker_color:{type:"string",default:te.defaults_marker.marker_color||null},marker_text:{type:"string"}},supports:{align:["wide","full"]},migrate:function(e){var t,n,o=[{marker_source:e.marker_source,marker_address:e.marker_address,marker_latitude:e.marker_latitude,marker_longitude:e.marker_longitude,marker_icon:e.marker_icon,marker_color:e.marker_color,marker_text:e.marker_text}],r=!1===e.marker_center?"-1":"0",a=null;return e.map_style in te.deprecated_styles&&(e.map_style=te.deprecated_styles[e.map_style]),"accesstoken"===(null===(t=te.map_styles[e.map_style])||void 0===t?void 0:t.dependency)?a=e.access_token:"apikey"===(null===(n=te.map_styles[e.map_style])||void 0===n?void 0:n.dependency)&&(a=e.api_key),X(X({},e),{},{marker_list:o,map_style_key:a,center_marker:r})},save:function(e){var t=X(X({},te.defaults),e.attributes);return React.createElement("div",{id:"sbs-openstreetmap-block-".concat(t.block_id),className:"sbs_openstreetmap_module","data-style":t.map_style,"data-api-key":t.api_key,"data-access-token":t.access_token,"data-zoom":t.zoom,"data-zoomable":t.ctrl_mouse_zoom,"data-latitude":t.latitude,"data-longitude":t.longitude,"data-show-attribution":t.show_attribution,"data-marker-source":t.marker_source,"data-marker-address":t.marker_address,"data-marker-latitude":t.marker_latitude,"data-marker-longitude":t.marker_longitude,"data-marker-center":t.marker_center,"data-marker-icon":t.marker_icon,"data-marker-color":t.marker_color,"data-marker-text":t.marker_text},React.createElement("div",{className:"sbs_openstreetmap_container",style:{paddingBottom:"".concat(t.map_height,"%")}}))}}];const oe=ne;(0,wp.blocks.registerBlockType)("stepbyteservice/openstreetmap",{title:"OpenStreetMap",icon:"location-alt",category:"embed",keywords:["map","leaflet"],attributes:t,supports:{align:["wide","full"]},edit:K,save:$,deprecated:oe}),(sbs_wp_openstreetmap=void 0===sbs_wp_openstreetmap?{}:sbs_wp_openstreetmap)["openstreetmap-block"]={}.default})();
//# sourceMappingURL=openstreetmap-block.min.js.map